  
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" integrity="sha512-HK5fgLBL+xu6dm/Ii3z4xhlSUyZgTT9tuc/hSrtw6uzJOvgRr2a9jyxxT1ely+B+xFAmJKVSTbpM/CuL7qxO8w==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='css/nav.css') }}">
    <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='css/chat.css') }}">
    <title>title</title>
</head>
<body id="body">
    <div id="blur">

    
    
        <div class="chat-page">
            <div class="row d-flex align-items-stretch">
                <div class="col-1 workspace-list">
                <div class="workspace-icon"><svg><use href="#icon-friends" /></svg></div>
                    <div class="createWorkspace">
                        <div class="createWorkspaceButton">
                            <a id="createWorkspace" href="#"><i class="fas fa-plus"></i></a>
                        </div>
                    </div>
                    <hr>
                    {% if count > 0 %}
                        <span id="workspace-id-saved" style="display: none;">{{workspace[0].id}}</span>
                    {% else %}
                        <span id="workspace-id-saved" style="display: none;"></span>
                    {% endif %}
                    {% if channelCount > 0 %}
                        <span id="channel-id-saved" style="display: none;">{{channels[0].id}}</span>
                    {% else %}
                        <span id="channel-id-saved" style="display: none;"></span>
                    {% endif %}
                    <div class="workspaceList" id="workspaceList">
                        {%for i in range(0, count)%} 
                            <div data-toggle="tooltip" data-placement="right" title="{{workspace[i].name}}" class="workspace"> 
                                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS5su_e5EULmaSR0GPr9PxMGcOVm22Tsg5Eyg&usqp=CAU" alt="" class="workspaceIcon">
                                <span class="wid" style="display: none;">{{workspace[i].id}}</span>
                            </div>
                        {%endfor%}
                    </div>
                </div>
                <div class="col-3 channel-list">
                <div class="channel-div">
                <div class="channel-heading">
                        {% if count > 0 %}
                            <p id="channel-heading">{{workspace[0].name}}</p>
                        {% else %}
                            <p id="channel-heading">  </p>
                        {% endif %}
                    </div>
                </div>
                    <div class="createChannel">
                        <div class="createChannelButton">
                            <a href="#"><button id="createChannel"><i class="fas fa-plus"></i> Create Channel</button></a>
                        </div>
                    </div>
                    <hr>

                    <div class="channelList" id="channelList">
                        {%for i in range(0, channelCount)%} 
                        <div class="channel">
                            <button class="channelName">#{{channels[i].name}}</button>
                            <span class="cid" style="display: none;">{{channels[i].id}}</span>
                        </div>
                        {%endfor%}
                    </div>
                </div>
                <div class="col-6 chat-section">
                    <div class="main-block">
                        <div class="chat-heading">
                            {% if channelCount > 0 %}
                                <p class="chat-workspace-name" id="chat-workspace-name">{{channels[0].name}}</p>
                            {% else %}
                                <p class="chat-workspace-name" id="chat-workspace-name">Start Collaborating today!</p>
                            {% endif %}
                        </div>
                        <div class="chats d-flex flex-column" id="chats">
                            {%for i in range(0, chatscount)%} 
                                {% if chats[i].username == username %}
                                <div class="chatbubble chatbubble-right">
                                    {% if chats[i].image == 0 %}
                                        <p>{{chats[i].message}}</p>
                                    {% else %}
                                        <img src="{{chats[i].message}}" alt="">
                                    {% endif %}
                                </div>
                                {% else %}
                                <div class="chatbubble chatbubble-left">
                                    <b>{{chats[i].username}}</b>
                                    {% if chats[i].image == 0 %}
                                        <p>{{chats[i].message}}</p>
                                    {% else %}
                                        <img src="{{chats[i].message}}" alt="">
                                    {% endif %}
                                </div>
                                {% endif %}
                            {%endfor%}
                        </div>
                        <div class="send-message-container">
                          <form action="">
                            <input id="chatMessageInput" class="message-input" type="text" placeholder="Type a message...">
                          </form>
                          <a href="#" id="send-message" class="send-message chat-buttons"><i class="fas fa-paper-plane"></i></a>
                          <form action="/imageUploadChat" method="POST" id="imageForm" enctype="multipart/form-data">
                            <label for="file-upload" id="send-image" class="custom-file-upload send-image chat-buttons">
                                <i class="fas fa-camera-retro"></i>
                               </label>
                               <input style="display: none;" id="file-upload" type="file" name="image"/>
                               <input style="display: none;" type="text" value="" name="imagewid" id="imagewid">
                               <input style="display: none;" type="text" value="" name="imagecid" id="imagecid">
                               <input style="display: none;" type="text" value="" name="imageusername" id="imageusername">
                          </form>
                          <!-- <a href="#" id="voice-message" class="voice-message chat-buttons"><i class="fas fa-microphone-alt"></i></a> -->
                        </div>
                    </div>
                </div>
                <div class="col-2 profile-section">
                    <div class="card">
                        <img class="card-img-top" src="{{image}}" alt="Card image cap">
                        <div class="card-body" id="card_body">
                          <h5 class="card-title" id="username">{{username}}</h5>
                          <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                          <div class="btn-group">
                            <a href="/logout" class="btn btn-primary mr-1">Logout</a>
                            <a href="#" class="btn btn-primary">Edit Profile</a>
                          </div>
                          <a href="#" id="joinWorkspace" class="btn btn-primary mt-3">Join a Workspace</a>
                          <div id="card_code" class="card-code"></div>
                           <div class="card-code-text"><p>(Share This!!)</p></div>
                        </div>
                      </div>
                </div>
            </div>
        </div>    
    </div>

    <div class="createWorkspaceModal" id="createWorkspaceModal">
        <div class="heading-createWorkspace">
            <h5><span>teamwork</span> makes the dream work.</h5>
        </div>
        <div class="content-createWorkspace">
            <div class="createWorkspaceImage">
                <img src="../../static/images/Brainstorming session _Monochromatic.svg" alt="">
            </div>
            <div class="createWorkspaceForm">
                <form action="">
                    <input type="text" placeholder="Workspace Name" id="workspaceNameInput">
                    <input type="text" placeholder="Admin Name" id="workspaceNameUsername">
                    <button class="btn btn-primary" id="createWorkspaceButton">Create workspace</button>
                </form>
                <div class="closeCreateWorkspace" id="closeCreateWorkspace">
                    <p>Close</p>
                </div>
            </div>
        </div>
    </div>

    <div class="createChannelModal" id="createChannelModal">
        <div class="heading-createChannel">
            <h5><span>teamwork</span> makes the dream work.</h5>
        </div>
        <div class="content-createChannel">
            <div class="createChannelImage">
                <img src="../../static/images/Brainstorming session _Monochromatic.svg" alt="">
            </div>
            <div class="createChannelForm">
                <form action="">
                    <input type="text" placeholder="Channel Name" id="ChannelNameInput">
                    <input type="text" placeholder="Admin Name" id="ChannelNameUsername">
                    <button class="btn btn-primary" id="createChannelButton">Create Channel</button>
                </form>
                <div class="closeCreateChannel" id="closeCreateChannel">
                    <p>Close</p>
                </div>
            </div>
        </div>
    </div>

    <div class="joinWorkspaceModal" id="joinWorkspaceModal">
        <div class="heading-joinWorkspace">
            <h5><span>teamwork</span> makes the dream work.</h5>
        </div>
        <div class="content-joinWorkspace">
            <div class="joinWorkspaceImage">
                <img src="../../static/images/Brainstorming session _Monochromatic.svg" alt="">
            </div>
            <div class="joinWorkspaceForm">
                <form action="">
                    <input type="text" placeholder="Workspace Name" id="joinWorkspaceNameInput">
                    <input type="text" placeholder="Joining Code" id="workspaceUserid">
                    <button class="btn btn-primary" id="joinWorkspaceButton">Join workspace!</button>
                </form>
                <div class="closeJoinWorkspace" id="closeJoinWorkspace">
                    <p>Close</p>
                </div>
            </div>
        </div>
    </div>

    <!--===== SCROLL REVEAL =====-->
    <script src="https://unpkg.com/scrollreveal"></script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js" integrity="sha256-yr4fRk/GU1ehYJPAs8P4JlTgu0Hdsp4ZKrx8bDEDC3I=" crossorigin="anonymous"></script>
    <script src="{{ url_for('static',filename='js/socketIO.js') }}"></script>
    <!-- <script src="{{ url_for('static',filename='js/nav.js') }}"></script> -->
    <script src="{{ url_for('static',filename='js/chat.js') }}"></script>
</body>


</html>

<svg id="icon-friends" viewBox="-289 382 32 27.1"><style id="style3">.st0{fill:#FFFFFF;} .st1{opacity:0.6;}</style><g id="g4145" fill="#fff"><path id="path5" d="M-273 409.1c-4.1 0-6.8-.6-7.9-1.7-.5-.6-.6-1.1-.6-1.3 0-.7.1-2.9.6-3.8.1-.3.5-1 4.5-2.4-1.6-1.4-2.6-4-2.6-7.1 0-4.2 2.3-7 5.9-7.1h.1c3.6.1 5.9 2.8 5.9 7.1 0 3.1-1 5.7-2.6 7.1 4 1.4 4.4 2.1 4.5 2.4.4.9.5 3.1.6 3.8 0 .2 0 .7-.6 1.3-1.1 1.1-3.7 1.7-7.8 1.7zm0-2c5.1 0 6.2-.9 6.4-1.1-.1-1.1-.2-2.3-.3-2.7-.6-.4-2.9-1.3-4.8-1.9l-.7-.2-.1-2 .7-.3c1.7-.6 2.8-3.1 2.8-6.1 0-3.1-1.5-5-3.9-5.1-2.5 0-4 2-4 5.1 0 3 1.1 5.5 2.8 6.1l.7.3-.1 2-.7.2c-1.9.6-4.2 1.5-4.8 1.9-.1.4-.3 1.6-.3 2.7.1.2 1.3 1.1 6.3 1.1z" class="st0"/><g id="g7" class="st1" opacity=".6"><path id="path9" d="M-257 402.4c0-.7-.1-2.9-.6-3.8-.1-.3-.5-1-4.5-2.4 1.6-1.4 2.6-4 2.6-7.1 0-4.2-2.3-7-5.9-7.1h-.1c-1.9 0-3.5.8-4.5 2.2.6.3 1.2.6 1.8 1 .7-.8 1.6-1.3 2.8-1.3 2.4 0 3.9 2 3.9 5.1 0 3-1.1 5.5-2.8 6.1l-.7.3.1 2 .7.2c1.9.6 4.3 1.5 4.8 1.9.1.4.3 1.6.3 2.7-.2.2-1 .8-3.8 1 .1.6.2 1.2.2 2 2.5-.2 4.2-.8 5-1.6.7-.5.7-1 .7-1.2z" class="st0"/><path id="path11" d="M-287 402.3c.1-1.1.2-2.3.3-2.7.6-.4 2.9-1.3 4.8-1.9l.7-.2.1-2-.7-.3c-1.6-.6-2.8-3.1-2.8-6.1 0-3.1 1.5-5 4-5.1 1.2 0 2.1.5 2.8 1.3.5-.4 1.1-.8 1.8-1-1-1.4-2.6-2.2-4.5-2.2h-.1c-3.6 0-5.9 2.8-5.9 7.1 0 3.1 1 5.7 2.6 7.1-4 1.4-4.4 2.1-4.5 2.4-.4.9-.5 3.1-.6 3.8 0 .2 0 .7.6 1.3.8.9 2.5 1.4 5.1 1.6 0-.7.1-1.4.2-2-2.9-.3-3.7-.9-3.9-1.1z" class="st0"/></g></g></svg>